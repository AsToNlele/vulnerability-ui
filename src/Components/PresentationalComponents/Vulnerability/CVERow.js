import { withRouter } from 'react-router-dom';
import React from 'react';
import propTypes from 'prop-types';

/**
 * This is a dumb component that only recieves properties from a smart component.
 * Dumb components are usually functions and not classes.
 *
 * @param props the props given by the smart component.
 */

/*eslint camelcase: ["error", {properties: "never"}]*/

export const CVEProperties = {
    synopsis: 'Synopsis',
    impact: 'Impact',
    public_date: 'Public date',
    modified_date: 'Modified date',
    cwe_list: 'CWE',
    redhat_url: 'URL',
    secondary_url: 'URL 2',
    cvss3_score: 'Cvss3 Score',
    description: 'Description'
};

function processRows(props) {
    let arr = [];

    for (let column in CVEProperties) {
        arr.push(<td key={column}>{props[column]}</td>);
    }

    return arr;
}

const CVERow = props => {
    let arr = processRows(props);
    return (
        <React.Fragment>
            <tr
                onClick={() => {
                    props.history.push('/vulnerabilities/'.concat(props.synopsis.props.children));
                }}
            >
                {arr}
            </tr>
        </React.Fragment>
    );
};

CVERow.propTypes = {
    history: propTypes.object,
    synopsis: propTypes.object
};

export default withRouter(CVERow);
